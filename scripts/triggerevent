#!/bin/bash

cd $(dirname "${0}")
cd ..

JAVAROOT=$(jq .java.root config.json | tr -d '"')
cd "${JAVAROOT}"

while read line; do

	CLASS=$(echo $line | cut -f1 -d';' | sed 's/\$/\\$/g')
	echo $line | sed "s/this/${CLASS}/g"

done < <(grep -R LuaEventManager.triggerEvent --include '*.java' | grep -v 'Binary' | grep LuaEventManager.triggerEvent | sed 's/\//./g' | sed 's/\.java//' | sed 's/[ ]\+//' | sed 's/LuaEventManager.triggerEvent//' | grep -v Lua.LuaEventManager | sed 's/(//' | rev | sed 's/)//' | sed 's/;//' | rev | sed 's/"//' | sed 's/"//' | sed 's/:/;/' | sed 's/,[ ]* /;/g')
